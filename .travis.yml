#Uses Ubuntu 18.04 xenial
dist: bionic

#Uses docker
services:
  - docker

#language is Java
language: java

#Set jdk
jdk: openjdk15

notifications:
  email:
    recipients:
      - g00391846@atu.ie
      - g00396309@atu.ie
      - g00392765@atu.ie
      - g00397265@atu.ie
    on_success: always
    on_failure: always

#what runs before instalatiion
before_install:
  - chmod +x mvnw
  - mvn clean #clean maven file
  - docker pull openjdk:15-jdk-alpine #pull java image from docker
  - echo "$DOCKER_PASS" | docker login -u "$DOCKER_USER" --password-stdin #copy docker credentials
  - docker pull openjdk:15-jdk-alpine

install:
  - mvn -N io.takari:maven:wrapper #Checks to make sure travis can run the maven build
  - ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V #Run maven install and skip javadoc generation




